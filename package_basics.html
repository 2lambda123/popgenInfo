<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Creating a new R package for population genetics</title>

<script src="libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="libs/bootstrap-3.3.5/css/spacelab.min.css" rel="stylesheet" />
<script src="libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="libs/navigation-1.1/tabsets.js"></script>
<!---

<style type="text/css">

/* padding for bootstrap navbar */
body {
  padding-top: 50px;
  padding-bottom: 40px;
  padding-right: 50px;
  padding-left: -50px;
}
@media (max-width: 979px) {
  body {
    padding-top: 0;
  }
}

 offset scroll position for anchor links (for fixed navbar)  
@media (min-width: 980px) {
  .section h2 {
    padding-top: 52px;
    margin-top: -52px;
  }
  .section h3 {
    padding-top: 52px;
    margin-top: -52px;
  }
}


/* don't use link color in navbar */
.dropdown-menu>li>a {
  color: black;
}

</style>
-->



<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 50px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 55px;
  margin-top: -55px;
}
.section h2 {
  padding-top: 55px;
  margin-top: -55px;
}
.section h3 {
  padding-top: 55px;
  margin-top: -55px;
}
/* don't use link color in navbar */
.dropdown-menu>li>a {
  color: black;
}
/* some padding for disqus */
#disqus_thread {
  margin-top: 45px;
}
</style>

<link rel="stylesheet" href="libs/font-awesome-4.1.0/css/font-awesome.min.css"/>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <!-- HOME -->
      <a class="navbar-brand" href="index.html"><b>Population Genetics in R</b></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <!-- Table of contents -->
        <li class="dropdown">
          <a href="chapters" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Users <span class="caret"></span></a>
          <ol class="dropdown-menu">
              <li><a href="GETSTARTED.html">Getting Started</a></li>
              <li class="divider"></li>
              <li class="dropdown-header">For microsatellite data:</li>
              <li><a href="startMicrosatellite.html">Basic statistics</a></li>
              <li><a href="2015-12-15-microsatellite-differentiation.html">Population differentiation</a></li>
              <li><a href="LMM-Genetic-Diversity.html">Comparing genetic diversity using mixed models</a></li>
              <li class="divider"></li>
              <li class="dropdown-header">For SNP data:</li>
              <!-- <li class="divider"></li> -->
              <li><a href="StartSNP.html">Basic statistics</a></li>
              <li><a href="DifferentiationSNP.html">Population differentiation</a></li>
              <li><a href="2015-05-18-Dist-SNP.html">Genetic distance (individual-based)</a></li>
              <li><a href="2016-01-26-SNP-selection.html">Signals of selection</a></li>
			  <li><a href="2016-12-13_MEM_outlier.html">Spatial outlier detection</a></li>
			  <li><a href="2018-03-27_RDA_GEA.html">Detecting multilocus adaptation using redundancy analysis</a></li>
              <!-- <li><a href="SNP.html">SNPs</a></li> -->
              <li class="divider"></li>
              <li class="dropdown-header">For sequence data:</li>
              <!-- <li class="divider"></li>   -->
              <li><a href="PopDiffSequenceData.html">Population differentiation</a></li>
          </ol>
        </li>
        <!-- Appendices dropdown -->
        <li class="dropdown">
          <a href="appendices" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Package Developers <span class="caret"></span></a>
          <ul class = "dropdown-menu" role = "menu">
           <li><a href = "PACKAGES.html">Population genetic packages in R</a></li>  
           <li><a href = "DATAFORMATS.html">Population genetic data types in R</a></li>
           <li><a href = "PACKAGE_TUTORIALS.html">Tutorials for developing R packages</a></li>
           <li class="divider"></li>  
           <li class="dropdown-header">Development Resources (external):</li>
           <li><a href = "http://r-pkgs.had.co.nz/">Hadley Wickham's guide for creating R packages</a></li>
           <li><a href = "https://github.com/jtleek/rpackages">Jeff Leek's R package development</a></li>
           <li><a href = "http://adv-r.had.co.nz/S4.html">S4 Classes in detail</a></li>
           <li><a href = "http://adv-r.had.co.nz/S3.html">S3 Classes in detail</a></li>
           <li><a href = "http://cran.r-project.org/doc/contrib/Genolini-S4tutorialV0-5en.pdf">A not so short introduction to S4</a></li>
          </ul>
        </li>
        <!-- Author button -->
        <li class="dropdown">
          <a href="about" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Contribute! <span class="caret"></span></a>
          <ul class = "dropdown-menu" role = "menu">
           <li><a href = "CONTRIBUTING.html">Contribution guidelines</a></li>  
           <li><a href = "CONTRIBUTING_WITH_GIT2R.html">Contributing with git2r</a></li> 
           <li class="divider"></li>  
           <li><a href="https://github.com/NESCent/popgenInfo">Source repository</a></li>  
		  </ul>
        </li>
        <li class = "button">
          <a href="LinksToResources.html">Useful Links</a>
        </li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
<!-- <div class="container">
<div class="row">
<div class="span10 offset1"> -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Creating a new R package for population genetics</h1>

</div>

<div id="TOC">
<ul>
<li><a href="#motivation">Motivation</a></li>
<li><a href="#toolsresources">Tools/Resources</a><ul>
<li><a href="#tools">Tools</a></li>
<li><a href="#tutorials-and-helpful-links">Tutorials and helpful links</a></li>
</ul></li>
<li><a href="#creating-your-new-package">Creating your new package</a><ul>
<li><a href="#what-is-in-an-r-package">What is in an R package?</a></li>
<li><a href="#creating-a-package">Creating a package</a></li>
</ul></li>
<li><a href="#conclusions">Conclusions</a></li>
<li><a href="#contributors">Contributors</a></li>
<li><a href="#session-information">Session Information</a></li>
</ul>
</div>

<div id="motivation" class="section level1">
<h1>Motivation</h1>
<p>R packages are, at their core, standardized collections of functions, data sets, and/or data formats. The advantage to packages is that they can be used across all platforms, meaning that your analyses or visualizations can be easily shared among collaborators (including your future self). If you’re reading this, then there is a good chance that you have written code that performs an analysis, does visualization, or helps you manage data. It is very likely that these tools you have authored will be of benefit to the larger population genetics community. This short vignette will point you to the tools you will need in order to get started on writing an R package for the population genetics community and submit it to <a href="http://cran.r-project.org">CRAN</a>.</p>
</div>
<div id="toolsresources" class="section level1">
<h1>Tools/Resources</h1>
<p>Recently, many resources have emerged for developing R packages. We will use Hadley Wickham’s <a href="http://r-pkgs.had.co.nz/">R packages</a> for reference, but it’s valuable to check out other tutorials.</p>
<div id="tools" class="section level2">
<h2>Tools</h2>
<p>Writing R packages has become much easier with the advent of the IDE <a href="http://rstudio.org">Rstudio</a> and the package <a href="https://github.com/devtools">devtools</a>. Using both of these in conjunction will make developing your package much easier as they are designed to work together.</p>
<ul>
<li><a href="http://rstudio.org/download">Download Rstudio here</a></li>
</ul>
<p>You can install <code>devtools</code> by typing in your R console:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">&quot;devtools&quot;</span>, <span class="dt">repos =</span> <span class="st">&quot;http://cran.rstudio.com/&quot;</span>)</a></code></pre></div>
<p>You might also need some background noise to avoid distraction. I recommend <a href="http://mynoise.net/NoiseMachines/spaceshipNoiseGenerator.php">the sound of a space ship control room</a>.</p>
</div>
<div id="tutorials-and-helpful-links" class="section level2">
<h2>Tutorials and helpful links</h2>
<ul>
<li><a href="http://r-pkgs.had.co.nz/package.html">Package Structure</a> (Hadley Wickham)</li>
<li><a href="http://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch/">Writing an R package from scratch (cat themed)</a> (Hilary Parker)</li>
<li><a href="https://github.com/jtleek/rpackages">Developing R packages</a> (Jeff Leek)</li>
<li><a href="http://cran.r-project.org/doc/contrib/Leisch-CreatingPackages.pdf">Creating Packages</a> (Freidrich Leisch)</li>
<li><p><a href="http://cran.r-project.org/doc/manuals/r-release/R-exts.html">Writing R Extensions</a> (CRAN)</p></li>
<li><p><a href="http://cran.github.io">CRAN GitHub repository</a> (Source code for all packages on CRAN)</p></li>
</ul>
</div>
</div>
<div id="creating-your-new-package" class="section level1">
<h1>Creating your new package</h1>
<div id="what-is-in-an-r-package" class="section level2">
<h2>What is in an R package?</h2>
<p>There are four files/folders needed to create an R package:</p>
<ul>
<li><code>DESCRIPTION</code></li>
<li><code>R/</code></li>
<li><code>NAMESPACE</code></li>
<li><code>man/</code></li>
</ul>
<p>These are detailed below.</p>
<div id="description" class="section level3">
<h3><code>DESCRIPTION</code></h3>
<p>This file simply lists all the metadata needed for the package. It lists things such as Authors, Packages it needs to run, etc. You can view any package’s DESCRIPTION file by typing <code>packageDescription(&quot;package_name&quot;)</code></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">packageDescription</span>(<span class="st">&quot;poppr&quot;</span>)</a></code></pre></div>
<pre><code>## Package: poppr
## Type: Package
## Title: Genetic Analysis of Populations with Mixed Reproduction
## Version: 2.8.2
## Date: 2019-03-10
## Authors@R: c(person(c(&quot;Zhian&quot;, &quot;N.&quot;), &quot;Kamvar&quot;, role = c(&quot;cre&quot;,
##        &quot;aut&quot;), email = &quot;zkamvar@gmail.com&quot;, comment = c(ORCID =
##        &quot;0000-0003-1458-7108&quot;)), person(c(&quot;Javier&quot;, &quot;F.&quot;),
##        &quot;Tabima&quot;, role = &quot;aut&quot;, email = &quot;tabimaj@onid.orst.edu&quot;,
##        comment = c(ORCID = &quot;0000-0002-3603-2691&quot;)),
##        person(c(&quot;Sydney&quot;, &quot;E.&quot;), &quot;Everhart&quot;, role = c(&quot;ctb&quot;,
##        &quot;dtc&quot;), email = &quot;everhart@unl.edu&quot;, comment = c(ORCID =
##        &quot;0000-0002-5773-1280&quot;)), person(c(&quot;Jonah&quot;, &quot;C.&quot;), &quot;Brooks&quot;,
##        role = &quot;aut&quot;, email = &quot;brookjon@onid.orst.edu&quot;),
##        person(c(&quot;Stacy&quot;, &quot;A.&quot;), &quot;Krueger-Hadfield&quot;, role = &quot;ctb&quot;,
##        email = &quot;kruegersa@cofc.edu&quot;, comment = c(ORCID =
##        &quot;0000-0002-7324-7448&quot;)), person(c(&quot;Erik&quot;), &quot;Sotka&quot;, role =
##        &quot;ctb&quot;, email = &quot;sotkae@cofc.edu&quot;), person(c(&quot;Brian&quot;, &quot;J.&quot;),
##        &quot;Knaus&quot;, role = &quot;ctb&quot;, email = &quot;briank.lists@gmail.com&quot;,
##        comment = c(ORCID = &quot;0000-0003-1665-4343&quot;)),
##        person(c(&quot;Patrick&quot;, &quot;G.&quot;), &quot;Meirmans&quot;, role = &quot;ctb&quot;, email
##        = &quot;p.g.meirmans@uva.nl&quot;, comment = c(ORCID =
##        &quot;0000-0002-6395-8107&quot;)), person(c(&quot;Niklaus&quot;, &quot;J.&quot;),
##        &quot;Grunwald&quot;, role = &quot;ths&quot;, email =
##        &quot;grunwaln@science.oregonstate.edu&quot;, comment = c(ORCID =
##        &quot;0000-0003-1656-7602&quot;)))
## Maintainer: Zhian N. Kamvar &lt;zkamvar@gmail.com&gt;
## Encoding: UTF-8
## URL: https://github.com/grunwaldlab/poppr,
##        https://grunwaldlab.github.io/poppr,
##        https://grunwaldlab.github.io/Population_Genetics_in_R/
## Description: Population genetic analyses for hierarchical analysis
##        of partially clonal populations built upon the architecture
##        of the &#39;adegenet&#39; package.
## MailingList: https://groups.google.com/group/poppr
## BugReports: https://github.com/grunwaldlab/poppr/issues
## Depends: R (&gt;= 2.15.1), adegenet (&gt;= 2.0.0)
## Imports: stats, graphics, grDevices, utils, vegan, ggplot2,
##        phangorn, ape (&gt;= 3.1-1), igraph (&gt;= 1.0.0), methods, ade4,
##        pegas, polysat, dplyr (&gt;= 0.4), rlang, boot, shiny,
##        magrittr
## Suggests: testthat, knitr, rmarkdown, poweRlaw, cowplot, RClone
## License: GPL-2 | GPL-3
## VignetteBuilder: knitr
## RoxygenNote: 6.1.1
## NeedsCompilation: yes
## Packaged: 2019-03-11 09:20:19 UTC; zhian
## Author: Zhian N. Kamvar [cre, aut]
##        (&lt;https://orcid.org/0000-0003-1458-7108&gt;), Javier F. Tabima
##        [aut] (&lt;https://orcid.org/0000-0002-3603-2691&gt;), Sydney E.
##        Everhart [ctb, dtc]
##        (&lt;https://orcid.org/0000-0002-5773-1280&gt;), Jonah C. Brooks
##        [aut], Stacy A. Krueger-Hadfield [ctb]
##        (&lt;https://orcid.org/0000-0002-7324-7448&gt;), Erik Sotka
##        [ctb], Brian J. Knaus [ctb]
##        (&lt;https://orcid.org/0000-0003-1665-4343&gt;), Patrick G.
##        Meirmans [ctb] (&lt;https://orcid.org/0000-0002-6395-8107&gt;),
##        Niklaus J. Grunwald [ths]
##        (&lt;https://orcid.org/0000-0003-1656-7602&gt;)
## Repository: CRAN
## Date/Publication: 2019-03-11 10:30:03 UTC
## Built: R 3.6.0; x86_64-pc-linux-gnu; 2019-05-10 21:22:41 UTC; unix
## 
## -- File: /usr/local/lib/R/site-library/poppr/Meta/package.rds</code></pre>
</div>
<div id="r" class="section level3">
<h3><code>R/</code></h3>
<p>This is the folder in which all of your <code>.R</code> files live. There are different philosophies on how to order your files in this folder. Some like to have <a href="https://github.com/dwinter/mmod/tree/master/R">a separate R file for each function</a>, while others like to have <a href="https://github.com/liamrevell/Rphylip/tree/master/Rphylip/R">all functions in a single R file</a>. However you want to organize the files in this directory is up to you.</p>
</div>
<div id="namespace" class="section level3">
<h3><code>NAMESPACE</code></h3>
<p><a href="http://r-pkgs.had.co.nz/namespace.html">The NAMESPACE file</a> lists the functions exported by your package (eg <code>export(&quot;myFun&quot;)</code>) and functions your package imports from other packages (eg <code>importFrom(&quot;pegas&quot;, &quot;amova&quot;)</code>).</p>
<blockquote>
<p><strong>Exporting functions is important.</strong> If an R package is like a car, exported functions would be things like the steering wheel and pedals while non- exported functions would be anything under the hood. Having non-exported functions make it easier to improve your package. In keeping with the analogy, a driver will not notice if you change the alternator, but s/he will certainly notice the steering wheel is different.</p>
</blockquote>
<p>If you choose to use modern tools such as <a href="http://cran.r-project.org/web/packages/roxygen2/vignettes/roxygen2.html"><em>roxygen2</em></a> for documentation, you should not need to touch this file.</p>
</div>
<div id="man" class="section level3">
<h3><code>man/</code></h3>
<p>All R packages need documentation. This folder contains all of the documents that will become manual pages for your R functions. They are written in the <a href="http://cran.r-project.org/doc/manuals/r-release/R-exts.html#Rd-format">Rd format</a>, which is similar to <a href="http://latex-project.org/">LaTeX</a>. If you choose to do so, using the <a href="http://cran.r-project.org/web/packages/roxygen2/vignettes/roxygen2.html"><em>roxygen2</em></a> package will help immensely with writing documentation.</p>
</div>
<div id="others" class="section level3">
<h3>Others</h3>
<p>There are other folders/files that you can include, but they are completely optional. Files like <code>NEWS</code> or <code>ChangeLog</code> give updates to changes in your package, and folders like <code>inst/</code> and <code>src/</code> allow you to include extra data or compiled code, respectively. See <a href="http://cran.r-project.org/doc/manuals/r-release/R-exts.html#Package-structure">CRAN’s description</a> for details. A good way to see what you can put in your package is to browse through the <a href="http://cran.github.io">CRAN GitHub repository</a> and see what other packages have.</p>
</div>
</div>
<div id="creating-a-package" class="section level2">
<h2>Creating a package</h2>
<p>Packages can be automatically created with the function <code>create()</code> from <em>devtools</em>, the function <code>kitten()</code> from <em>pkgKitten</em>, or <code>package.skeleton()</code>, which comes in default R. As a rule, I avoid things that remind me of my own mortality, so with this tutorial, I will use <code>create()</code>.</p>
<div id="setting-up-your-information" class="section level3">
<h3>Setting up your information</h3>
<p>Devtools will create a pre-set package for you, but it will be easier for you if you set it up with your name and information, so that the DESCRIPTION file is automatically generated with the right information. Below are the default options for devtools. You can use <code>?devtools</code> to find out more information:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;devtools&quot;</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw">options</span>()[<span class="kw">grep</span>(<span class="st">&quot;devtools&quot;</span>, <span class="kw">names</span>(<span class="kw">options</span>()))]</a></code></pre></div>
<pre><code>## $devtools.desc
## list()
## 
## $devtools.desc.author
## [1] &quot;person(\&quot;First\&quot;, \&quot;Last\&quot;, email = \&quot;first.last@example.com\&quot;, role = c(\&quot;aut\&quot;, \&quot;cre\&quot;))&quot;
## 
## $devtools.desc.license
## [1] &quot;What license is it under?&quot;
## 
## $devtools.install.args
## [1] &quot;&quot;
## 
## $devtools.name
## [1] &quot;Your name goes here&quot;
## 
## $devtools.path
## [1] &quot;~/R-dev&quot;
## 
## $devtools.revdep.libpath
## [1] &quot;/tmp/Rtmp5rcpdn/R-lib&quot;</code></pre>
<p>After looking at the documentation, we know that we want to change the values <code>devtools.desc.author</code>, <code>devtools.desc.license</code>, <code>devtools.name</code>. We will also add a “Maintainer” field to the DESCRIPTION file (tells users who to blame). The others don’t matter for now. We can add them in thusly (Note, I am using my name; you should obviously use your own):</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">authors_at_r &lt;-<span class="st"> </span><span class="kw">paste0</span>(</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">  <span class="st">&quot;&#39;&quot;</span>,</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">  <span class="kw">person</span>(</a>
<a class="sourceLine" id="cb6-4" data-line-number="4">    <span class="st">&quot;Zhian N.&quot;</span>, </a>
<a class="sourceLine" id="cb6-5" data-line-number="5">    <span class="st">&quot;Kamvar&quot;</span>, </a>
<a class="sourceLine" id="cb6-6" data-line-number="6">    <span class="dt">email =</span> <span class="st">&quot;kamvarz@science.oregonstate.edu&quot;</span>, </a>
<a class="sourceLine" id="cb6-7" data-line-number="7">    <span class="dt">role  =</span> <span class="kw">c</span>(<span class="st">&quot;aut&quot;</span>, <span class="st">&quot;cre&quot;</span>)</a>
<a class="sourceLine" id="cb6-8" data-line-number="8">    ),</a>
<a class="sourceLine" id="cb6-9" data-line-number="9">  <span class="st">&quot;&#39;&quot;</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10">)</a>
<a class="sourceLine" id="cb6-11" data-line-number="11"></a>
<a class="sourceLine" id="cb6-12" data-line-number="12"><span class="kw">options</span>(<span class="dt">devtools.desc.author =</span> authors_at_r)</a>
<a class="sourceLine" id="cb6-13" data-line-number="13"><span class="kw">options</span>(<span class="dt">devtools.name =</span> <span class="st">&quot;Zhian N. Kamvar&quot;</span>)</a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="kw">options</span>(<span class="dt">devtools.desc.license =</span> <span class="st">&quot;GPL-3&quot;</span>)</a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="kw">options</span>(<span class="dt">devtools.desc =</span> <span class="kw">list</span>(<span class="st">&quot;Maintainer&quot;</span> =<span class="st"> &quot;&#39;Zhian N. Kamvar&#39; &lt;kamvarz@science.oregonstate.edu&gt;&quot;</span>))</a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="kw">options</span>()[<span class="kw">grep</span>(<span class="st">&quot;devtools&quot;</span>, <span class="kw">names</span>(<span class="kw">options</span>()))]</a></code></pre></div>
<pre><code>## $devtools.desc
## $devtools.desc$Maintainer
## [1] &quot;&#39;Zhian N. Kamvar&#39; &lt;kamvarz@science.oregonstate.edu&gt;&quot;
## 
## 
## $devtools.desc.author
## [1] &quot;&#39;Zhian N. Kamvar &lt;kamvarz@science.oregonstate.edu&gt; [aut, cre]&#39;&quot;
## 
## $devtools.desc.license
## [1] &quot;GPL-3&quot;
## 
## $devtools.install.args
## [1] &quot;&quot;
## 
## $devtools.name
## [1] &quot;Zhian N. Kamvar&quot;
## 
## $devtools.path
## [1] &quot;~/R-dev&quot;
## 
## $devtools.revdep.libpath
## [1] &quot;/tmp/Rtmp5rcpdn/R-lib&quot;</code></pre>
<blockquote>
<p>It is much easier to edit the DESCRIPTION file by hand afterward. This simply demonstrates how you can get started.</p>
</blockquote>
<p>Now we can create a new package called <em>myFirstPackage</em> in our current working directory by typing:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">library</span>(<span class="st">&quot;devtools&quot;</span>)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="kw">create</span>(<span class="st">&quot;myFirstPackage&quot;</span>)</a></code></pre></div>
<pre><code>## Warning: &#39;create&#39; is deprecated.
## Use &#39;usethis::create_package()&#39; instead.
## See help(&quot;Deprecated&quot;) and help(&quot;devtools-deprecated&quot;).</code></pre>
<pre><code>## Warning: &#39;setup&#39; is deprecated.
## Use &#39;usethis::create_package()&#39; instead.
## See help(&quot;Deprecated&quot;) and help(&quot;devtools-deprecated&quot;).</code></pre>
<pre><code>## Warning: &#39;create_description&#39; is deprecated.
## Use &#39;usethis::use_description()&#39; instead.
## See help(&quot;Deprecated&quot;) and help(&quot;devtools-deprecated&quot;).</code></pre>
<pre><code>## Package: myFirstPackage
## Title: What the Package Does (one line, title case)
## Version: 0.0.0.9000
## Authors@R: &#39;Zhian N. Kamvar &lt;kamvarz@science.oregonstate.edu&gt; [aut, cre]&#39;
## Description: What the package does (one paragraph).
## Depends: R (&gt;= 3.6.0)
## License: GPL-3
## Encoding: UTF-8
## LazyData: true
## Maintainer: &#39;Zhian N. Kamvar&#39; &lt;kamvarz@science.oregonstate.edu&gt;</code></pre>
<pre><code>## Warning: &#39;use_rstudio&#39; is deprecated.
## Use &#39;usethis::use_rstudio()&#39; instead.
## See help(&quot;Deprecated&quot;) and help(&quot;devtools-deprecated&quot;).</code></pre>
<pre><code>## Warning in warn_unless_current_dir(pkg): `pkg` is not `.`, which is now unsupported.
##   Please use `usethis::proj_set()` to set the project directory.</code></pre>
<pre><code>## ✔ Writing &#39;myFirstPackage.Rproj&#39;
## ✔ Adding &#39;.Rproj.user&#39; to &#39;.gitignore&#39;
## ✔ Adding &#39;^myFirstPackage\\.Rproj$&#39;, &#39;^\\.Rproj\\.user$&#39; to &#39;.Rbuildignore&#39;</code></pre>
<p>You can also use <code>check()</code> to see if your package passes <a href="http://r-pkgs.had.co.nz/check.html"><code>R CMD check</code></a>:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">check</span>(<span class="st">&quot;myFirstPackage&quot;</span>)</a></code></pre></div>
<p>Now all you have to do is add in your R files and document your functions.</p>
</div>
</div>
</div>
<div id="conclusions" class="section level1">
<h1>Conclusions</h1>
<p>This chapter describes the first steps to creating an R package and introduces further resources for doing so. One of the best ways to learn how to write R packages is to look at the source code for R packages that have already been published on CRAN. It’s easy to do this by searching the <a href="http://cran.github.io">CRAN GitHub repository</a></p>
</div>
<div id="contributors" class="section level1">
<h1>Contributors</h1>
<ul>
<li>Zhian N. Kamvar</li>
<li>Hilmar Lapp</li>
</ul>
</div>
<div id="session-information" class="section level1">
<h1>Session Information</h1>
<p>This shows us useful information for reproducibility. Of particular importance are the versions of R and the packages used to create this workflow. It is considered good practice to record this information with every analysis.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="kw">options</span>(<span class="dt">width =</span> <span class="dv">100</span>)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2">devtools<span class="op">::</span><span class="kw">session_info</span>()</a></code></pre></div>
<pre><code>## ─ Session info ───────────────────────────────────────────────────────────────────────────────────
##  setting  value                       
##  version  R version 3.6.0 (2019-04-26)
##  os       Debian GNU/Linux 9 (stretch)
##  system   x86_64, linux-gnu           
##  ui       X11                         
##  language (EN)                        
##  collate  en_US.UTF-8                 
##  ctype    en_US.UTF-8                 
##  tz       Etc/UTC                     
##  date     2019-05-11                  
## 
## ─ Packages ───────────────────────────────────────────────────────────────────────────────────────
##  package     * version date       lib source        
##  assertthat    0.2.1   2019-03-21 [1] CRAN (R 3.6.0)
##  backports     1.1.4   2019-04-10 [1] CRAN (R 3.6.0)
##  callr         3.2.0   2019-03-15 [1] CRAN (R 3.6.0)
##  cli           1.1.0   2019-03-19 [1] CRAN (R 3.6.0)
##  clisymbols    1.2.0   2017-05-21 [1] CRAN (R 3.6.0)
##  crayon        1.3.4   2017-09-16 [1] CRAN (R 3.6.0)
##  desc          1.2.0   2018-05-01 [1] CRAN (R 3.6.0)
##  devtools    * 2.0.2   2019-04-08 [1] CRAN (R 3.6.0)
##  digest        0.6.18  2018-10-10 [1] CRAN (R 3.6.0)
##  evaluate      0.13    2019-02-12 [1] CRAN (R 3.6.0)
##  fs            1.3.1   2019-05-06 [1] CRAN (R 3.6.0)
##  git2r         0.25.2  2019-03-19 [1] CRAN (R 3.6.0)
##  glue          1.3.1   2019-03-12 [1] CRAN (R 3.6.0)
##  htmltools     0.3.6   2017-04-28 [1] CRAN (R 3.6.0)
##  knitr         1.22    2019-03-08 [1] CRAN (R 3.6.0)
##  magrittr      1.5     2014-11-22 [1] CRAN (R 3.6.0)
##  memoise       1.1.0   2017-04-21 [1] CRAN (R 3.6.0)
##  pkgbuild      1.0.3   2019-03-20 [1] CRAN (R 3.6.0)
##  pkgload       1.0.2   2018-10-29 [1] CRAN (R 3.6.0)
##  prettyunits   1.0.2   2015-07-13 [1] CRAN (R 3.6.0)
##  processx      3.3.1   2019-05-08 [1] CRAN (R 3.6.0)
##  ps            1.3.0   2018-12-21 [1] CRAN (R 3.6.0)
##  R6            2.4.0   2019-02-14 [1] CRAN (R 3.6.0)
##  Rcpp          1.0.1   2019-03-17 [1] CRAN (R 3.6.0)
##  remotes       2.0.4   2019-04-10 [1] CRAN (R 3.6.0)
##  rlang         0.3.4   2019-04-07 [1] CRAN (R 3.6.0)
##  rmarkdown     1.12    2019-03-14 [1] CRAN (R 3.6.0)
##  rprojroot     1.3-2   2018-01-03 [1] CRAN (R 3.6.0)
##  sessioninfo   1.1.1   2018-11-05 [1] CRAN (R 3.6.0)
##  stringi       1.4.3   2019-03-12 [1] CRAN (R 3.6.0)
##  stringr       1.4.0   2019-02-10 [1] CRAN (R 3.6.0)
##  testthat      2.1.1   2019-04-23 [1] CRAN (R 3.6.0)
##  usethis     * 1.5.0   2019-04-07 [1] CRAN (R 3.6.0)
##  whisker       0.3-2   2013-04-28 [1] CRAN (R 3.6.0)
##  withr         2.1.2   2018-03-15 [1] CRAN (R 3.6.0)
##  xfun          0.6     2019-04-02 [1] CRAN (R 3.6.0)
##  yaml          2.2.0   2018-07-25 [1] CRAN (R 3.6.0)
## 
## [1] /usr/local/lib/R/site-library
## [2] /usr/local/lib/R/library</code></pre>
</div>

<!-- </div>
</div>
</div>
 -->



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
